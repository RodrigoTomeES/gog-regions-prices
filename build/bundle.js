var app=function(){"use strict";function e(){}function t(e){return e()}function n(){return Object.create(null)}function r(e){e.forEach(t)}function o(e){return"function"==typeof e}function l(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}let s,i;function c(e,t){return s||(s=document.createElement("a")),s.href=t,e===s.href}function a(e,t){e.appendChild(t)}function u(e,t,n){e.insertBefore(t,n||null)}function f(e){e.parentNode.removeChild(e)}function d(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function g(e){return document.createElement(e)}function p(e){return document.createTextNode(e)}function m(){return p(" ")}function h(e,t,n,r){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n,r)}function x(e,t,n){null==n?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function b(e,t){t=""+t,e.wholeText!==t&&(e.data=t)}function y(e,t){e.value=null==t?"":t}function w(e){i=e}function $(e){(function(){if(!i)throw new Error("Function called outside component initialization");return i})().$$.on_mount.push(e)}const v=[],_=[],j=[],k=[],C=Promise.resolve();let E=!1;function T(e){j.push(e)}const P=new Set;let L=0;function O(){const e=i;do{for(;L<v.length;){const e=v[L];L++,w(e),R(e.$$)}for(w(null),v.length=0,L=0;_.length;)_.pop()();for(let e=0;e<j.length;e+=1){const t=j[e];P.has(t)||(P.add(t),t())}j.length=0}while(v.length);for(;k.length;)k.pop()();E=!1,P.clear(),w(e)}function R(e){if(null!==e.fragment){e.update(),r(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(T)}}const S=new Set;const M="undefined"!=typeof window?window:"undefined"!=typeof globalThis?globalThis:global;function U(e,t){-1===e.$$.dirty[0]&&(v.push(e),E||(E=!0,C.then(O)),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function A(l,s,c,a,u,d,g,p=[-1]){const m=i;w(l);const h=l.$$={fragment:null,ctx:null,props:d,update:e,not_equal:u,bound:n(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(s.context||(m?m.$$.context:[])),callbacks:n(),dirty:p,skip_bound:!1,root:s.target||m.$$.root};g&&g(h.root);let x=!1;if(h.ctx=c?c(l,s.props||{},((e,t,...n)=>{const r=n.length?n[0]:t;return h.ctx&&u(h.ctx[e],h.ctx[e]=r)&&(!h.skip_bound&&h.bound[e]&&h.bound[e](r),x&&U(l,e)),t})):[],h.update(),x=!0,r(h.before_update),h.fragment=!!a&&a(h.ctx),s.target){if(s.hydrate){const e=function(e){return Array.from(e.childNodes)}(s.target);h.fragment&&h.fragment.l(e),e.forEach(f)}else h.fragment&&h.fragment.c();s.intro&&((b=l.$$.fragment)&&b.i&&(S.delete(b),b.i(y))),function(e,n,l,s){const{fragment:i,on_mount:c,on_destroy:a,after_update:u}=e.$$;i&&i.m(n,l),s||T((()=>{const n=c.map(t).filter(o);a?a.push(...n):r(n),e.$$.on_mount=[]})),u.forEach(T)}(l,s.target,s.anchor,s.customElement),O()}var b,y;w(m)}const{window:N}=M;function z(e,t,n){const r=e.slice();return r[16]=t[n],r}function F(e,t,n){const r=e.slice();return r[19]=t[n],r}function G(e){let t,n,r;return{c(){t=g("p"),n=p("Last update:\n              "),r=p(e[2]),x(t,"class","text-sm text-gray-700 text-center pt-1")},m(e,o){u(e,t,o),a(t,n),a(t,r)},p(e,t){4&t&&b(r,e[2])},d(e){e&&f(t)}}}function I(e){let t,n,r,o=e[16].price[e[19]]+"";return{c(){t=g("span"),n=p(o),r=p("$"),x(t,"class","font-medium pl-2 self-center")},m(e,o){u(e,t,o),a(t,n),a(t,r)},p(e,t){16&t&&o!==(o=e[16].price[e[19]]+"")&&b(n,o)},d(e){e&&f(t)}}}function q(e){let t,n,r,o,l,s,i,c=e[16].sale[e[19]]+"",d=e[16].price[e[19]]+"";return{c(){t=g("span"),n=p(c),r=p("$"),o=m(),l=g("span"),s=p(d),i=p("$"),x(t,"class","font-medium text-blue-700 pl-2 self-center"),x(l,"class","text-sm text-red-700 line-through pl-2 self-center")},m(e,c){u(e,t,c),a(t,n),a(t,r),u(e,o,c),u(e,l,c),a(l,s),a(l,i)},p(e,t){16&t&&c!==(c=e[16].sale[e[19]]+"")&&b(n,c),16&t&&d!==(d=e[16].price[e[19]]+"")&&b(s,d)},d(e){e&&f(t),e&&f(o),e&&f(l)}}}function B(e){let t,n,r,o,l,s;function i(e,t){return e[16].sale?q:I}let d=i(e),p=d(e);return{c(){t=g("div"),n=g("img"),l=m(),p.c(),s=m(),x(n,"class","h-full"),c(n.src,r=`./flags/${e[19].toLowerCase()}.svg`)||x(n,"src",r),x(n,"alt",o=`${e[19]} Flag`),x(t,"class","flex flex-inline h-5")},m(e,r){u(e,t,r),a(t,n),a(t,l),p.m(t,null),a(t,s)},p(e,l){16&l&&!c(n.src,r=`./flags/${e[19].toLowerCase()}.svg`)&&x(n,"src",r),16&l&&o!==(o=`${e[19]} Flag`)&&x(n,"alt",o),d===(d=i(e))&&p?p.p(e,l):(p.d(1),p=d(e),p&&(p.c(),p.m(t,s)))},d(e){e&&f(t),p.d()}}}function H(e){let t,n,r,l,s,i,y,w,$,v,_,j,k,C,E,T,P,L,O=e[16].title+"",R=e[16].category+"",S=Object.values(e[16].country),M=[];for(let t=0;t<S.length;t+=1)M[t]=B(F(e,S,t));return{c(){t=g("div"),n=g("div"),r=g("img"),y=m(),w=g("div"),$=g("div"),v=p(O),_=m(),j=g("div"),k=p(R),C=m(),E=g("div");for(let e=0;e<M.length;e+=1)M[e].c();T=m(),x(r,"class","w-full"),c(r.src,l=e[16].image+"_200.jpg")||x(r,"src",l),x(r,"alt",s=e[16].title),x(r,"title",i=e[16].title),x(r,"loading","lazy"),x($,"class","font-bold text-md"),x(j,"class","text-sm text-gray-600"),x(w,"class","px-2 py-2"),x(E,"class","pl-3 space-y-3 pb-3"),x(n,"class","rounded overflow-hidden hover:shadow-lg border-r border-b border-l border-gray-300 flex-1"),x(t,"class","cursor-pointer flex flex-col w-1/2 md:w-1/3 lg:w-1/4 xl:w-1/5 2xl:w-1/6 px-1 pb-3"),x(t,"role","listitem")},m(l,s){u(l,t,s),a(t,n),a(n,r),a(n,y),a(n,w),a(w,$),a($,v),a(w,_),a(w,j),a(j,k),a(n,C),a(n,E);for(let e=0;e<M.length;e+=1)M[e].m(E,null);a(t,T),P||(L=h(t,"click",(function(){o(e[8](e[16].url))&&e[8](e[16].url).apply(this,arguments)})),P=!0)},p(t,n){if(e=t,16&n&&!c(r.src,l=e[16].image+"_200.jpg")&&x(r,"src",l),16&n&&s!==(s=e[16].title)&&x(r,"alt",s),16&n&&i!==(i=e[16].title)&&x(r,"title",i),16&n&&O!==(O=e[16].title+"")&&b(v,O),16&n&&R!==(R=e[16].category+"")&&b(k,R),16&n){let t;for(S=Object.values(e[16].country),t=0;t<S.length;t+=1){const r=F(e,S,t);M[t]?M[t].p(r,n):(M[t]=B(r),M[t].c(),M[t].m(E,null))}for(;t<M.length;t+=1)M[t].d(1);M.length=S.length}},d(e){e&&f(t),d(M,e),P=!1,L()}}}function V(t){let n,o,l,s,i,c,w,$,v,_,j,k,C,E,T,P,L,O,R,S,M,U,A,F,I,q,B,V,D,J,K,Q,W,X,Y,Z,ee,te,ne,re,oe=t[2]&&G(t),le=t[4],se=[];for(let e=0;e<le.length;e+=1)se[e]=H(z(t,le,e));return{c(){n=g("main"),o=g("div"),l=g("div"),s=g("div"),i=g("div"),c=g("h1"),c.textContent="GOG Regions Prices",w=m(),$=g("p"),$.innerHTML='If your country has a different price report it in\n            <a class="text-blue-700 underline" href="https://github.com/RodrigoTomeES/gog-regions-prices">Github</a>',v=m(),oe&&oe.c(),_=m(),j=g("div"),k=g("div"),C=g("label"),C.textContent="Search Term",E=m(),T=g("input"),P=m(),L=g("div"),O=g("button"),O.innerHTML='<span class="absolute left-0 inset-y-0 flex items-center pl-3"></span>\n            Search!',R=m(),S=g("div"),M=g("div");for(let e=0;e<se.length;e+=1)se[e].c();U=m(),A=g("div"),F=g("div"),I=g("button"),q=p("<< Previous"),V=m(),D=g("div"),J=g("div"),K=p(t[0]),Q=p("\n          /\n          "),W=p(t[3]),X=m(),Y=g("div"),Z=g("button"),ee=p("Next >>"),x(c,"class","text-center text-3xl font-extrabold text-gray-900 "),x($,"class","text-sm text-gray-700 text-center"),x(i,"class","justify-center w-full"),x(C,"for","searchterm"),x(C,"class","sr-only"),x(T,"id","searchterm"),x(T,"name","searchterm"),x(T,"type","text"),T.required=!0,x(T,"class","appearance-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm"),x(T,"placeholder","Search for your game!"),x(j,"class","rounded-md shadow-sm -space-y-px"),x(O,"type","submit"),x(O,"class","group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500"),x(s,"class","block space-y-3 w-full md:w-1/3 py-3"),x(l,"class","w-full flex justify-center"),x(M,"class","flex flex-wrap w-full"),x(M,"role","list"),x(S,"class","flex w-full"),x(S,"id","games"),I.disabled=B=t[0]<=1,x(I,"class","disabled:opacity-50 group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500"),x(F,"class","w-1/3 px-1 "),x(J,"class","group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-indigo-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500"),x(D,"class","w-1/3 px-1 "),Z.disabled=te=t[0]>=t[3],x(Z,"class","disabled:opacity-50 group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500"),x(Y,"class","w-1/3 px-1 "),x(A,"class","flex flex-inline w-full mb-2"),x(o,"class","flex flex-wrap justify-center items-center"),x(n,"class","container mx-auto px-3")},m(e,r){u(e,n,r),a(n,o),a(o,l),a(l,s),a(s,i),a(i,c),a(i,w),a(i,$),a(i,v),oe&&oe.m(i,null),a(s,_),a(s,j),a(j,k),a(k,C),a(k,E),a(k,T),y(T,t[1]),a(s,P),a(s,L),a(L,O),a(o,R),a(o,S),a(S,M);for(let e=0;e<se.length;e+=1)se[e].m(M,null);a(o,U),a(o,A),a(A,F),a(F,I),a(I,q),a(A,V),a(A,D),a(D,J),a(J,K),a(J,Q),a(J,W),a(A,X),a(A,Y),a(Y,Z),a(Z,ee),ne||(re=[h(N,"keydown",t[7]),h(T,"input",t[14]),h(T,"keypress",t[6]),h(O,"click",t[5]),h(I,"click",t[10]),h(Z,"click",t[9])],ne=!0)},p(e,[t]){if(e[2]?oe?oe.p(e,t):(oe=G(e),oe.c(),oe.m(i,null)):oe&&(oe.d(1),oe=null),2&t&&T.value!==e[1]&&y(T,e[1]),272&t){let n;for(le=e[4],n=0;n<le.length;n+=1){const r=z(e,le,n);se[n]?se[n].p(r,t):(se[n]=H(r),se[n].c(),se[n].m(M,null))}for(;n<se.length;n+=1)se[n].d(1);se.length=le.length}1&t&&B!==(B=e[0]<=1)&&(I.disabled=B),1&t&&b(K,e[0]),8&t&&b(W,e[3]),9&t&&te!==(te=e[0]>=e[3])&&(Z.disabled=te)},i:e,o:e,d(e){e&&f(n),oe&&oe.d(),d(se,e),ne=!1,r(re)}}}function D(e,t,n){let r,{searchResult:o=[]}=t,{searchTerm:l=""}=t,{games:s=[]}=t,{sales:i=[]}=t,{lastUpdated:c=""}=t,{totalPages:a=-1}=t,{currentPage:u=-1}=t;async function f(){""==l.trim()?n(11,o=i):(0===s.length&&await fetch("./games.json").then((e=>e.json())).then((e=>{n(12,s=e.sort(((e,t)=>e.title.localeCompare(t.title))))})),n(11,o=s.filter((e=>e.title.toLowerCase().includes(l.trim().toLowerCase())))),n(3,a=Math.floor(o.length/24)+1),n(0,u=1))}$((async()=>{await fetch("./sales.json").then((e=>e.json())).then((e=>{n(13,i=e.sort(((e,t)=>e.title.localeCompare(t.title)))),n(11,o=i),n(3,a=Math.floor(i.length/24)+1),n(0,u=1)})),await fetch("./lastUpdate.json").then((e=>e.json())).then((e=>{const t=e.last,r=t.substr(8,2),o=t.substr(5,2),l=t.substr(11,5);n(2,c=`${r}/${o} - ${l}`)}))}));function d(){u<a&&p(1)}function g(){u>1&&p(-1)}function p(e){n(0,u+=e),document.getElementById("games").scrollIntoView()}return e.$$set=e=>{"searchResult"in e&&n(11,o=e.searchResult),"searchTerm"in e&&n(1,l=e.searchTerm),"games"in e&&n(12,s=e.games),"sales"in e&&n(13,i=e.sales),"lastUpdated"in e&&n(2,c=e.lastUpdated),"totalPages"in e&&n(3,a=e.totalPages),"currentPage"in e&&n(0,u=e.currentPage)},e.$$.update=()=>{2049&e.$$.dirty&&n(4,r=o.slice(24*(u-1),24*u))},[u,l,c,a,r,f,e=>{13===e.charCode&&f()},e=>{"searchterm"!==e.target.id&&(37===e.keyCode&&g(),39===e.keyCode&&d())},e=>{window.open(`https://www.gog.com${e}`,"_blank").focus()},d,g,o,s,i,function(){l=this.value,n(1,l)}]}return new class extends class{$destroy(){!function(e,t){const n=e.$$;null!==n.fragment&&(r(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}(this,1),this.$destroy=e}$on(e,t){const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const e=n.indexOf(t);-1!==e&&n.splice(e,1)}}$set(e){var t;this.$$set&&(t=e,0!==Object.keys(t).length)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}{constructor(e){super(),A(this,e,D,V,l,{searchResult:11,searchTerm:1,games:12,sales:13,lastUpdated:2,totalPages:3,currentPage:0})}}({target:document.body})}();
//# sourceMappingURL=bundle.js.map
