var app=function(){"use strict";function e(){}function t(e){return e()}function n(){return Object.create(null)}function r(e){e.forEach(t)}function o(e){return"function"==typeof e}function l(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}function s(e,t){e.appendChild(t)}function i(e,t,n){e.insertBefore(t,n||null)}function c(e){e.parentNode.removeChild(e)}function a(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function u(e){return document.createElement(e)}function f(e){return document.createTextNode(e)}function d(){return f(" ")}function g(e,t,n,r){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n,r)}function p(e,t,n){null==n?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function m(e,t){t=""+t,e.wholeText!==t&&(e.data=t)}function h(e,t){e.value=null==t?"":t}let x;function b(e){x=e}function y(e){(function(){if(!x)throw new Error("Function called outside component initialization");return x})().$$.on_mount.push(e)}const w=[],$=[],v=[],_=[],j=Promise.resolve();let k=!1;function C(e){v.push(e)}let T=!1;const P=new Set;function E(){if(!T){T=!0;do{for(let e=0;e<w.length;e+=1){const t=w[e];b(t),L(t.$$)}for(b(null),w.length=0;$.length;)$.pop()();for(let e=0;e<v.length;e+=1){const t=v[e];P.has(t)||(P.add(t),t())}v.length=0}while(w.length);for(;_.length;)_.pop()();k=!1,T=!1,P.clear()}}function L(e){if(null!==e.fragment){e.update(),r(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(C)}}const O=new Set;const R="undefined"!=typeof window?window:"undefined"!=typeof globalThis?globalThis:global;function S(e,t){-1===e.$$.dirty[0]&&(w.push(e),k||(k=!0,j.then(E)),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function M(l,s,i,a,u,f,d=[-1]){const g=x;b(l);const p=s.props||{},m=l.$$={fragment:null,ctx:null,props:f,update:e,not_equal:u,bound:n(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(g?g.$$.context:[]),callbacks:n(),dirty:d,skip_bound:!1};let h=!1;if(m.ctx=i?i(l,p,((e,t,...n)=>{const r=n.length?n[0]:t;return m.ctx&&u(m.ctx[e],m.ctx[e]=r)&&(!m.skip_bound&&m.bound[e]&&m.bound[e](r),h&&S(l,e)),t})):[],m.update(),h=!0,r(m.before_update),m.fragment=!!a&&a(m.ctx),s.target){if(s.hydrate){const e=function(e){return Array.from(e.childNodes)}(s.target);m.fragment&&m.fragment.l(e),e.forEach(c)}else m.fragment&&m.fragment.c();s.intro&&((y=l.$$.fragment)&&y.i&&(O.delete(y),y.i(w))),function(e,n,l){const{fragment:s,on_mount:i,on_destroy:c,after_update:a}=e.$$;s&&s.m(n,l),C((()=>{const n=i.map(t).filter(o);c?c.push(...n):r(n),e.$$.on_mount=[]})),a.forEach(C)}(l,s.target,s.anchor),E()}var y,w;b(g)}const{window:U}=R;function A(e,t,n){const r=e.slice();return r[16]=t[n],r}function N(e,t,n){const r=e.slice();return r[19]=t[n],r}function z(e){let t,n,r;return{c(){t=u("p"),n=f("Last update:\n              "),r=f(e[2]),p(t,"class","text-sm text-gray-700 text-center pt-1")},m(e,o){i(e,t,o),s(t,n),s(t,r)},p(e,t){4&t&&m(r,e[2])},d(e){e&&c(t)}}}function F(e){let t,n,r,o=e[16].price[e[19]]+"";return{c(){t=u("span"),n=f(o),r=f("$"),p(t,"class","font-medium pl-2 self-center")},m(e,o){i(e,t,o),s(t,n),s(t,r)},p(e,t){16&t&&o!==(o=e[16].price[e[19]]+"")&&m(n,o)},d(e){e&&c(t)}}}function G(e){let t,n,r,o,l,a,g,h=e[16].sale[e[19]]+"",x=e[16].price[e[19]]+"";return{c(){t=u("span"),n=f(h),r=f("$"),o=d(),l=u("span"),a=f(x),g=f("$"),p(t,"class","font-medium text-blue-700 pl-2 self-center"),p(l,"class","text-sm text-red-700 line-through pl-2 self-center")},m(e,c){i(e,t,c),s(t,n),s(t,r),i(e,o,c),i(e,l,c),s(l,a),s(l,g)},p(e,t){16&t&&h!==(h=e[16].sale[e[19]]+"")&&m(n,h),16&t&&x!==(x=e[16].price[e[19]]+"")&&m(a,x)},d(e){e&&c(t),e&&c(o),e&&c(l)}}}function I(e){let t,n,r,o,l,a;function f(e,t){return e[16].sale?G:F}let g=f(e),m=g(e);return{c(){t=u("div"),n=u("img"),l=d(),m.c(),a=d(),p(n,"class","h-full"),n.src!==(r=`./flags/${e[19].toLowerCase()}.svg`)&&p(n,"src",r),p(n,"alt",o=`${e[19]} Flag`),p(t,"class","flex flex-inline h-5")},m(e,r){i(e,t,r),s(t,n),s(t,l),m.m(t,null),s(t,a)},p(e,l){16&l&&n.src!==(r=`./flags/${e[19].toLowerCase()}.svg`)&&p(n,"src",r),16&l&&o!==(o=`${e[19]} Flag`)&&p(n,"alt",o),g===(g=f(e))&&m?m.p(e,l):(m.d(1),m=g(e),m&&(m.c(),m.m(t,a)))},d(e){e&&c(t),m.d()}}}function q(e){let t,n,r,l,h,x,b,y,w,$,v,_,j,k,C,T,P,E,L=e[16].title+"",O=e[16].category+"",R=Object.values(e[16].country),S=[];for(let t=0;t<R.length;t+=1)S[t]=I(N(e,R,t));return{c(){t=u("div"),n=u("div"),r=u("img"),b=d(),y=u("div"),w=u("div"),$=f(L),v=d(),_=u("div"),j=f(O),k=d(),C=u("div");for(let e=0;e<S.length;e+=1)S[e].c();T=d(),p(r,"class","w-full"),r.src!==(l=e[16].image+"_200.jpg")&&p(r,"src",l),p(r,"alt",h=e[16].title),p(r,"title",x=e[16].title),p(r,"loading","lazy"),p(w,"class","font-bold text-md"),p(_,"class","text-sm text-gray-600"),p(y,"class","px-2 py-2"),p(C,"class","pl-3 space-y-3 pb-3"),p(n,"class","rounded overflow-hidden hover:shadow-lg border-r border-b border-l border-gray-300 flex-1"),p(t,"class","cursor-pointer flex flex-col w-1/2 md:w-1/3 lg:w-1/4 xl:w-1/5 2xl:w-1/6 px-1 pb-3"),p(t,"role","listitem")},m(l,c){i(l,t,c),s(t,n),s(n,r),s(n,b),s(n,y),s(y,w),s(w,$),s(y,v),s(y,_),s(_,j),s(n,k),s(n,C);for(let e=0;e<S.length;e+=1)S[e].m(C,null);s(t,T),P||(E=g(t,"click",(function(){o(e[8](e[16].url))&&e[8](e[16].url).apply(this,arguments)})),P=!0)},p(t,n){if(e=t,16&n&&r.src!==(l=e[16].image+"_200.jpg")&&p(r,"src",l),16&n&&h!==(h=e[16].title)&&p(r,"alt",h),16&n&&x!==(x=e[16].title)&&p(r,"title",x),16&n&&L!==(L=e[16].title+"")&&m($,L),16&n&&O!==(O=e[16].category+"")&&m(j,O),16&n){let t;for(R=Object.values(e[16].country),t=0;t<R.length;t+=1){const r=N(e,R,t);S[t]?S[t].p(r,n):(S[t]=I(r),S[t].c(),S[t].m(C,null))}for(;t<S.length;t+=1)S[t].d(1);S.length=R.length}},d(e){e&&c(t),a(S,e),P=!1,E()}}}function B(t){let n,o,l,x,b,y,w,$,v,_,j,k,C,T,P,E,L,O,R,S,M,N,F,G,I,B,H,V,D,J,K,Q,W,X,Y,Z,ee,te,ne,re,oe=t[2]&&z(t),le=t[4],se=[];for(let e=0;e<le.length;e+=1)se[e]=q(A(t,le,e));return{c(){n=u("main"),o=u("div"),l=u("div"),x=u("div"),b=u("div"),y=u("h1"),y.textContent="GOG Regions Prices",w=d(),$=u("p"),$.innerHTML='If your country has a different price report it in\n            <a class="text-blue-700 underline" href="https://github.com/RodrigoTomeES/gog-regions-prices">Github</a>',v=d(),oe&&oe.c(),_=d(),j=u("div"),k=u("div"),C=u("label"),C.textContent="Search Term",T=d(),P=u("input"),E=d(),L=u("div"),O=u("button"),O.innerHTML='<span class="absolute left-0 inset-y-0 flex items-center pl-3"></span>\n            Search!',R=d(),S=u("div"),M=u("div");for(let e=0;e<se.length;e+=1)se[e].c();N=d(),F=u("div"),G=u("div"),I=u("button"),B=f("<< Previous"),V=d(),D=u("div"),J=u("div"),K=f(t[0]),Q=f("\n          /\n          "),W=f(t[3]),X=d(),Y=u("div"),Z=u("button"),ee=f("Next >>"),p(y,"class","text-center text-3xl font-extrabold text-gray-900 "),p($,"class","text-sm text-gray-700 text-center"),p(b,"class","justify-center w-full"),p(C,"for","searchterm"),p(C,"class","sr-only"),p(P,"id","searchterm"),p(P,"name","searchterm"),p(P,"type","text"),P.required=!0,p(P,"class","appearance-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm"),p(P,"placeholder","Search for your game!"),p(j,"class","rounded-md shadow-sm -space-y-px"),p(O,"type","submit"),p(O,"class","group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500"),p(x,"class","block space-y-3 w-full md:w-1/3 py-3"),p(l,"class","w-full flex justify-center"),p(M,"class","flex flex-wrap w-full"),p(M,"role","list"),p(S,"class","flex w-full"),p(S,"id","games"),I.disabled=H=t[0]<=1,p(I,"class","disabled:opacity-50 group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500"),p(G,"class","w-1/3 px-1 "),p(J,"class","group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-indigo-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500"),p(D,"class","w-1/3 px-1 "),Z.disabled=te=t[0]>=t[3],p(Z,"class","disabled:opacity-50 group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500"),p(Y,"class","w-1/3 px-1 "),p(F,"class","flex flex-inline w-full mb-2"),p(o,"class","flex flex-wrap justify-center items-center"),p(n,"class","container mx-auto px-3")},m(e,r){i(e,n,r),s(n,o),s(o,l),s(l,x),s(x,b),s(b,y),s(b,w),s(b,$),s(b,v),oe&&oe.m(b,null),s(x,_),s(x,j),s(j,k),s(k,C),s(k,T),s(k,P),h(P,t[1]),s(x,E),s(x,L),s(L,O),s(o,R),s(o,S),s(S,M);for(let e=0;e<se.length;e+=1)se[e].m(M,null);s(o,N),s(o,F),s(F,G),s(G,I),s(I,B),s(F,V),s(F,D),s(D,J),s(J,K),s(J,Q),s(J,W),s(F,X),s(F,Y),s(Y,Z),s(Z,ee),ne||(re=[g(U,"keydown",t[7]),g(P,"input",t[14]),g(P,"keypress",t[6]),g(O,"click",t[5]),g(I,"click",t[10]),g(Z,"click",t[9])],ne=!0)},p(e,[t]){if(e[2]?oe?oe.p(e,t):(oe=z(e),oe.c(),oe.m(b,null)):oe&&(oe.d(1),oe=null),2&t&&P.value!==e[1]&&h(P,e[1]),272&t){let n;for(le=e[4],n=0;n<le.length;n+=1){const r=A(e,le,n);se[n]?se[n].p(r,t):(se[n]=q(r),se[n].c(),se[n].m(M,null))}for(;n<se.length;n+=1)se[n].d(1);se.length=le.length}1&t&&H!==(H=e[0]<=1)&&(I.disabled=H),1&t&&m(K,e[0]),8&t&&m(W,e[3]),9&t&&te!==(te=e[0]>=e[3])&&(Z.disabled=te)},i:e,o:e,d(e){e&&c(n),oe&&oe.d(),a(se,e),ne=!1,r(re)}}}function H(e,t,n){let r,{searchResult:o=[]}=t,{searchTerm:l=""}=t,{games:s=[]}=t,{sales:i=[]}=t,{lastUpdated:c=""}=t,{totalPages:a=-1}=t,{currentPage:u=-1}=t;async function f(){""==l.trim()?n(11,o=i):(0===s.length&&await fetch("./games.json").then((e=>e.json())).then((e=>{n(12,s=e.sort(((e,t)=>e.title.localeCompare(t.title))))})),n(11,o=s.filter((e=>e.title.toLowerCase().includes(l.trim().toLowerCase())))),n(3,a=Math.floor(o.length/24)+1),n(0,u=1))}y((async()=>{await fetch("./sales.json").then((e=>e.json())).then((e=>{n(13,i=e.sort(((e,t)=>e.title.localeCompare(t.title)))),n(11,o=i),n(3,a=Math.floor(i.length/24)+1),n(0,u=1)})),await fetch("./lastUpdate.json").then((e=>e.json())).then((e=>{const t=e.last,r=t.substr(8,2),o=t.substr(5,2),l=t.substr(11,5);n(2,c=`${r}/${o} - ${l}`)}))}));function d(){u<a&&p(1)}function g(){u>1&&p(-1)}function p(e){n(0,u+=e),document.getElementById("games").scrollIntoView()}return e.$$set=e=>{"searchResult"in e&&n(11,o=e.searchResult),"searchTerm"in e&&n(1,l=e.searchTerm),"games"in e&&n(12,s=e.games),"sales"in e&&n(13,i=e.sales),"lastUpdated"in e&&n(2,c=e.lastUpdated),"totalPages"in e&&n(3,a=e.totalPages),"currentPage"in e&&n(0,u=e.currentPage)},e.$$.update=()=>{2049&e.$$.dirty&&n(4,r=o.slice(24*(u-1),24*u))},[u,l,c,a,r,f,e=>{13===e.charCode&&f()},e=>{"searchterm"!==e.target.id&&(37===e.keyCode&&g(),39===e.keyCode&&d())},e=>{window.open(`https://www.gog.com${e}`,"_blank").focus()},d,g,o,s,i,function(){l=this.value,n(1,l)}]}return new class extends class{$destroy(){!function(e,t){const n=e.$$;null!==n.fragment&&(r(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}(this,1),this.$destroy=e}$on(e,t){const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const e=n.indexOf(t);-1!==e&&n.splice(e,1)}}$set(e){var t;this.$$set&&(t=e,0!==Object.keys(t).length)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}{constructor(e){super(),M(this,e,H,B,l,{searchResult:11,searchTerm:1,games:12,sales:13,lastUpdated:2,totalPages:3,currentPage:0})}}({target:document.body})}();
//# sourceMappingURL=bundle.js.map
