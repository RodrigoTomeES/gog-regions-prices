var app=function(){"use strict";function e(){}function t(e){return e()}function n(){return Object.create(null)}function o(e){e.forEach(t)}function s(e){return"function"==typeof e}function l(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}let r;function i(e,t){return e===t||(r||(r=document.createElement("a")),r.href=t,e===r.href)}const c="undefined"!=typeof window?window:"undefined"!=typeof globalThis?globalThis:global;function a(e,t){e.appendChild(t)}function u(e,t,n){e.insertBefore(t,n||null)}function d(e){e.parentNode&&e.parentNode.removeChild(e)}function f(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function p(e){return document.createElement(e)}function g(e){return document.createTextNode(e)}function m(){return g(" ")}function h(e,t,n,o){return e.addEventListener(t,n,o),()=>e.removeEventListener(t,n,o)}function b(e,t,n){null==n?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function x(e,t){t=""+t,e.data!==t&&(e.data=t)}function y(e,t){e.value=null==t?"":t}let w;function $(e){w=e}function v(e){(function(){if(!w)throw new Error("Function called outside component initialization");return w})().$$.on_mount.push(e)}const k=[],_=[];let j=[];const C=[],E=Promise.resolve();let L=!1;function B(e){j.push(e)}const I=new Set;let P=0;function F(){if(0!==P)return;const e=w;do{try{for(;P<k.length;){const e=k[P];P++,$(e),T(e.$$)}}catch(e){throw k.length=0,P=0,e}for($(null),k.length=0,P=0;_.length;)_.pop()();for(let e=0;e<j.length;e+=1){const t=j[e];I.has(t)||(I.add(t),t())}j.length=0}while(k.length);for(;C.length;)C.pop()();L=!1,I.clear(),$(e)}function T(e){if(null!==e.fragment){e.update(),o(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(B)}}const O=new Set;function S(e){return void 0!==e?.length?e:Array.from(e)}function A(e,t){const n=e.$$;null!==n.fragment&&(!function(e){const t=[],n=[];j.forEach((o=>-1===e.indexOf(o)?t.push(o):n.push(o))),n.forEach((e=>e())),j=t}(n.after_update),o(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function G(e,t){-1===e.$$.dirty[0]&&(k.push(e),L||(L=!0,E.then(F)),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function R(l,r,i,c,a,u,f,p=[-1]){const g=w;$(l);const m=l.$$={fragment:null,ctx:[],props:u,update:e,not_equal:a,bound:n(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(r.context||(g?g.$$.context:[])),callbacks:n(),dirty:p,skip_bound:!1,root:r.target||g.$$.root};f&&f(m.root);let h=!1;if(m.ctx=i?i(l,r.props||{},((e,t,...n)=>{const o=n.length?n[0]:t;return m.ctx&&a(m.ctx[e],m.ctx[e]=o)&&(!m.skip_bound&&m.bound[e]&&m.bound[e](o),h&&G(l,e)),t})):[],m.update(),h=!0,o(m.before_update),m.fragment=!!c&&c(m.ctx),r.target){if(r.hydrate){const e=function(e){return Array.from(e.childNodes)}(r.target);m.fragment&&m.fragment.l(e),e.forEach(d)}else m.fragment&&m.fragment.c();r.intro&&((b=l.$$.fragment)&&b.i&&(O.delete(b),b.i(x))),function(e,n,l){const{fragment:r,after_update:i}=e.$$;r&&r.m(n,l),B((()=>{const n=e.$$.on_mount.map(t).filter(s);e.$$.on_destroy?e.$$.on_destroy.push(...n):o(n),e.$$.on_mount=[]})),i.forEach(B)}(l,r.target,r.anchor),F()}var b,x;$(g)}class M{$$=void 0;$$set=void 0;$destroy(){A(this,1),this.$destroy=e}$on(t,n){if(!s(n))return e;const o=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return o.push(n),()=>{const e=o.indexOf(n);-1!==e&&o.splice(e,1)}}$set(e){var t;this.$$set&&(t=e,0!==Object.keys(t).length)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}"undefined"!=typeof window&&(window.__svelte||(window.__svelte={v:new Set})).v.add("4");const{window:N}=c;function D(e,t,n){const o=e.slice();return o[28]=t[n],o[30]=n,o}function U(e,t,n){const o=e.slice();return o[31]=t[n],o}function z(e){let t,n,o;return{c(){t=p("p"),n=g("Last update:\n              "),o=g(e[2]),b(t,"class","text-sm text-gray-700 text-center pt-1")},m(e,s){u(e,t,s),a(t,n),a(t,o)},p(e,t){4&t[0]&&x(o,e[2])},d(e){e&&d(t)}}}function H(e){let t,n,o,s=e[28].price[e[31]]+"";return{c(){t=p("span"),n=g(s),o=g("$"),b(t,"class","font-medium pl-2 self-center")},m(e,s){u(e,t,s),a(t,n),a(t,o)},p(e,t){32&t[0]&&s!==(s=e[28].price[e[31]]+"")&&x(n,s)},d(e){e&&d(t)}}}function q(e){let t,n,o,s,l,r,i,c=e[28].sale[e[31]]+"",f=e[28].price[e[31]]+"";return{c(){t=p("span"),n=g(c),o=g("$"),s=m(),l=p("span"),r=g(f),i=g("$"),b(t,"class","font-medium text-blue-700 pl-2 self-center"),b(l,"class","text-sm text-red-700 line-through pl-2 self-center")},m(e,c){u(e,t,c),a(t,n),a(t,o),u(e,s,c),u(e,l,c),a(l,r),a(l,i)},p(e,t){32&t[0]&&c!==(c=e[28].sale[e[31]]+"")&&x(n,c),32&t[0]&&f!==(f=e[28].price[e[31]]+"")&&x(r,f)},d(e){e&&(d(t),d(s),d(l))}}}function V(e){let t,n,o,s,l=e[28].sale?`${e[16](e[28].price[e[31]],e[28].price[e[4]])?"-":"+"}${e[15](e[28].sale[e[31]],e[28].sale[e[4]])}`:`${e[16](e[28].price[e[31]],e[28].price[e[4]])?"-":"+"}${e[15](e[28].price[e[31]],e[28].price[e[4]])}`;return{c(){t=p("span"),n=g(l),o=g("%"),b(t,"class",s="text-sm "+(e[16](e[28].price[e[31]],e[28].price[e[4]])?"text-green-700":"text-red-700")+" pl-2 self-center")},m(e,s){u(e,t,s),a(t,n),a(t,o)},p(e,o){48&o[0]&&l!==(l=e[28].sale?`${e[16](e[28].price[e[31]],e[28].price[e[4]])?"-":"+"}${e[15](e[28].sale[e[31]],e[28].sale[e[4]])}`:`${e[16](e[28].price[e[31]],e[28].price[e[4]])?"-":"+"}${e[15](e[28].price[e[31]],e[28].price[e[4]])}`)&&x(n,l),48&o[0]&&s!==(s="text-sm "+(e[16](e[28].price[e[31]],e[28].price[e[4]])?"text-green-700":"text-red-700")+" pl-2 self-center")&&b(t,"class",s)},d(e){e&&d(t)}}}function W(e){let t,n,o,s,l,r,c,f=e[4]&&e[28].price[e[4]]&&0!==parseFloat(e[28].price[e[31]]);function g(e,t){return e[28].sale?q:H}let h=g(e),x=h(e),y=f&&V(e);return{c(){t=p("div"),n=p("img"),r=m(),x.c(),c=m(),y&&y.c(),b(n,"class","h-full"),i(n.src,o=`./flags/${e[31].toLowerCase()}.svg`)||b(n,"src",o),b(n,"alt",s=`${e[31]} Flag`),b(n,"title",l=`${e[31]} Flag`),b(t,"class","flex flex-inline h-5")},m(e,o){u(e,t,o),a(t,n),a(t,r),x.m(t,null),a(t,c),y&&y.m(t,null)},p(e,r){32&r[0]&&!i(n.src,o=`./flags/${e[31].toLowerCase()}.svg`)&&b(n,"src",o),32&r[0]&&s!==(s=`${e[31]} Flag`)&&b(n,"alt",s),32&r[0]&&l!==(l=`${e[31]} Flag`)&&b(n,"title",l),h===(h=g(e))&&x?x.p(e,r):(x.d(1),x=h(e),x&&(x.c(),x.m(t,c))),48&r[0]&&(f=e[4]&&e[28].price[e[4]]&&0!==parseFloat(e[28].price[e[31]])),f?y?y.p(e,r):(y=V(e),y.c(),y.m(t,null)):y&&(y.d(1),y=null)},d(e){e&&d(t),x.d(),y&&y.d()}}}function J(e){let t,n,o,s,l,r,c,f;function g(e,t){return e[28].sale?Q:K}let h=g(e),x=h(e);return{c(){t=p("div"),n=m(),o=p("div"),s=p("img"),f=m(),x.c(),b(t,"class","h-[1px] bg-slate-300 w-full"),b(s,"class","h-full"),i(s.src,l=`./flags/${e[4].toLowerCase()}.svg`)||b(s,"src",l),b(s,"alt",r=`${e[4]} Flag`),b(s,"title",c=`${e[4]} Flag`),b(o,"class","flex flex-inline h-5")},m(e,l){u(e,t,l),u(e,n,l),u(e,o,l),a(o,s),a(o,f),x.m(o,null)},p(e,t){16&t[0]&&!i(s.src,l=`./flags/${e[4].toLowerCase()}.svg`)&&b(s,"src",l),16&t[0]&&r!==(r=`${e[4]} Flag`)&&b(s,"alt",r),16&t[0]&&c!==(c=`${e[4]} Flag`)&&b(s,"title",c),h===(h=g(e))&&x?x.p(e,t):(x.d(1),x=h(e),x&&(x.c(),x.m(o,null)))},d(e){e&&(d(t),d(n),d(o)),x.d()}}}function K(e){let t,n,o,s=e[28].price[e[4]]+"";return{c(){t=p("span"),n=g(s),o=g("$"),b(t,"class","font-medium pl-2 self-center")},m(e,s){u(e,t,s),a(t,n),a(t,o)},p(e,t){48&t[0]&&s!==(s=e[28].price[e[4]]+"")&&x(n,s)},d(e){e&&d(t)}}}function Q(e){let t,n,o,s,l,r,i,c=e[28].sale[e[4]]+"",f=e[28].price[e[4]]+"";return{c(){t=p("span"),n=g(c),o=g("$"),s=m(),l=p("span"),r=g(f),i=g("$"),b(t,"class","font-medium text-blue-700 pl-2 self-center"),b(l,"class","text-sm text-red-700 line-through pl-2 self-center")},m(e,c){u(e,t,c),a(t,n),a(t,o),u(e,s,c),u(e,l,c),a(l,r),a(l,i)},p(e,t){48&t[0]&&c!==(c=e[28].sale[e[4]]+"")&&x(n,c),48&t[0]&&f!==(f=e[28].price[e[4]]+"")&&x(r,f)},d(e){e&&(d(t),d(s),d(l))}}}function X(e){let t,n,l,r,c,y,w,$,v,k,_,j,C,E,L,B,I,P,F,T,O=e[28].title+"",A=e[28].category+"",G=S(Object.keys(e[28].price).slice(0,4)),R=[];for(let t=0;t<G.length;t+=1)R[t]=W(U(e,G,t));let M=e[4]&&e[28].price[e[4]]&&J(e);return{c(){t=p("li"),n=p("div"),l=p("div"),r=p("img"),$=m(),v=p("div"),k=p("div"),_=g(O),j=m(),C=p("div"),E=g(A),L=m(),B=p("div");for(let e=0;e<R.length;e+=1)R[e].c();I=m(),M&&M.c(),P=m(),b(r,"class","w-full"),i(r.src,c=e[28].image+"_200.jpg")||b(r,"src",c),b(r,"alt",y=e[28].title),b(r,"title",w=e[28].title),b(r,"loading","lazy"),b(k,"class","font-bold text-md line-clamp-2"),b(C,"class","text-sm text-gray-600"),b(v,"class","px-2 py-2 flex-grow"),b(B,"class","px-3 space-y-3 pb-3"),b(l,"class","rounded overflow-hidden hover:shadow-lg border-r border-b border-l border-gray-300 flex-1 flex flex-col"),b(n,"class","cursor-pointer flex flex-col px-1 pb-3 h-full"),b(n,"role","button"),b(n,"tabindex",e[30]),b(t,"class","w-1/2 md:w-1/3 lg:w-1/4 xl:w-1/5 2xl:w-1/6")},m(o,i){u(o,t,i),a(t,n),a(n,l),a(l,r),a(l,$),a(l,v),a(v,k),a(k,_),a(v,j),a(v,C),a(C,E),a(l,L),a(l,B);for(let e=0;e<R.length;e+=1)R[e]&&R[e].m(B,null);a(B,I),M&&M.m(B,null),a(t,P),F||(T=[h(n,"click",(function(){s(e[11](e[28].url))&&e[11](e[28].url).apply(this,arguments)})),h(n,"keypress",(function(){s(e[11](e[28].url))&&e[11](e[28].url).apply(this,arguments)}))],F=!0)},p(t,n){if(e=t,32&n[0]&&!i(r.src,c=e[28].image+"_200.jpg")&&b(r,"src",c),32&n[0]&&y!==(y=e[28].title)&&b(r,"alt",y),32&n[0]&&w!==(w=e[28].title)&&b(r,"title",w),32&n[0]&&O!==(O=e[28].title+"")&&x(_,O),32&n[0]&&A!==(A=e[28].category+"")&&x(E,A),98352&n[0]){let t;for(G=S(Object.keys(e[28].price).slice(0,4)),t=0;t<G.length;t+=1){const o=U(e,G,t);R[t]?R[t].p(o,n):(R[t]=W(o),R[t].c(),R[t].m(B,I))}for(;t<R.length;t+=1)R[t].d(1);R.length=G.length}e[4]&&e[28].price[e[4]]?M?M.p(e,n):(M=J(e),M.c(),M.m(B,null)):M&&(M.d(1),M=null)},d(e){e&&d(t),f(R,e),M&&M.d(),F=!1,o(T)}}}function Y(t){let n,s,l,r,i,c,w,$,v,k,_,j,C,E,L,B,I,P,F,T,O,A,G,R,M,U,H,q,V,W,J,K,Q,Y,Z,ee,te,ne,oe,se,le,re,ie,ce,ae,ue,de,fe,pe,ge,me,he,be,xe=t[2]&&z(t),ye=S(t[5]),we=[];for(let e=0;e<ye.length;e+=1)we[e]=X(D(t,ye,e));return{c(){n=p("main"),s=p("div"),s.innerHTML='<div class="flex items-center justify-between gap-2"><div class="text-4xl" id="BlockInstallClose">x</div> <div class="w-12"><img src="./icons/android/android-launchericon-48-48.png" alt="GOG Regions Price logo"/></div> <div class="max-w-[175px]"><span class="block font-bold">GOG Regions Price</span> <span class="block text-xs">Compare GOG&#39;s prices between all countries (in dollars)</span></div> <div><button id="BlockInstallButton" class="py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500">Install</button></div></div>',l=m(),r=p("div"),i=p("div"),c=p("div"),w=p("div"),$=p("h1"),$.textContent="GOG Regions Prices",v=m(),k=p("p"),k.innerHTML='If you know of any missing game, report it on\n            <a class="text-blue-700 underline" href="https://github.com/RodrigoTomeES/gog-regions-prices">Github\n            </a>.',_=m(),xe&&xe.c(),j=m(),C=p("select"),E=p("option"),E.textContent="Sales",L=p("option"),L.textContent="All games by discount rate",B=m(),I=p("div"),P=p("div"),F=p("label"),F.textContent="Search Term",T=m(),O=p("input"),A=m(),G=p("div"),R=p("button"),R.innerHTML='<span class="absolute left-0 inset-y-0 flex items-center pl-3"></span>\n            Search!',M=m(),U=p("div"),H=p("ul");for(let e=0;e<we.length;e+=1)we[e].c();q=m(),V=p("div"),W=p("div"),J=p("button"),K=g("<<"),Y=m(),Z=p("button"),ee=g("<"),ne=m(),oe=p("label"),se=p("input"),le=g("\n          /\n        "),re=g(t[3]),ie=m(),ce=p("div"),ae=p("button"),ue=g(">"),fe=m(),pe=p("button"),ge=g(">>"),b(s,"class","hidden bg-white shadow-2xl fixed bottom-0 left-0 right-0 z-50 p-4"),b(s,"id","BlockInstall"),b($,"class","text-center text-3xl font-extrabold text-gray-900"),b(k,"class","text-sm text-gray-700 text-center"),b(w,"class","justify-center w-full"),E.__value="sales",y(E,E.__value),L.__value="discount",y(L,L.__value),b(C,"class","bg-white border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-indigo-500 focus:border-indigo-500 block w-full p-2.5"),b(F,"for","searchterm"),b(F,"class","sr-only"),b(O,"id","searchterm"),b(O,"name","searchterm"),b(O,"type","text"),O.required=!0,b(O,"class","appearance-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm"),b(O,"placeholder","Search for your game!"),b(I,"class","rounded-md shadow-sm -space-y-px"),b(R,"type","submit"),b(R,"class","group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500"),b(c,"class","block space-y-3 w-full md:w-1/3 py-3"),b(i,"class","w-full flex justify-center"),b(H,"class","flex flex-wrap w-full"),b(U,"class","flex w-full"),b(U,"id","games"),J.disabled=Q=t[0]<=1,b(J,"class","disabled:opacity-50 group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500"),Z.disabled=te=t[0]<=1,b(Z,"class","disabled:opacity-50 group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500"),b(W,"class","w-1/3 inline-flex gap-1"),b(se,"id","page"),b(se,"type","text"),b(se,"class","border-none bg-transparent no-number-spinner max-w-[3ch] text-right focus:ring-0 focus:ring-offset-transparent focus:outline-none select-none"),b(oe,"for","page"),b(oe,"class","group relative focus-within:border focus-within:outline-none focus-within:ring-2 focus-within:ring-offset-2 focus-within:ring-indigo-500 w-1/3 flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-indigo-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500"),ae.disabled=de=t[0]>=t[3],b(ae,"class","disabled:opacity-50 group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500"),pe.disabled=me=t[0]>=t[3],b(pe,"class","disabled:opacity-50 group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500"),b(ce,"class","w-1/3 inline-flex gap-1"),b(V,"class","flex flex-inline w-full mb-2 gap-2"),b(r,"class","flex flex-wrap justify-center items-center"),b(n,"class","container mx-auto px-3")},m(e,o){u(e,n,o),a(n,s),a(n,l),a(n,r),a(r,i),a(i,c),a(c,w),a(w,$),a(w,v),a(w,k),a(w,_),xe&&xe.m(w,null),a(c,j),a(c,C),a(C,E),a(C,L),a(c,B),a(c,I),a(I,P),a(P,F),a(P,T),a(P,O),y(O,t[1]),a(c,A),a(c,G),a(G,R),a(r,M),a(r,U),a(U,H);for(let e=0;e<we.length;e+=1)we[e]&&we[e].m(H,null);a(r,q),a(r,V),a(V,W),a(W,J),a(J,K),a(W,Y),a(W,Z),a(Z,ee),a(V,ne),a(V,oe),a(oe,se),y(se,t[0]),a(oe,le),a(oe,re),a(V,ie),a(V,ce),a(ce,ae),a(ae,ue),a(ce,fe),a(ce,pe),a(pe,ge),he||(be=[h(N,"keydown",t[9]),h(C,"change",t[21]),h(O,"input",t[22]),h(O,"keypress",t[8]),h(R,"click",t[7]),h(J,"click",t[23]),h(Z,"click",t[13]),h(se,"input",t[24]),h(se,"keydown",t[10]),h(ae,"click",t[12]),h(pe,"click",t[25])],he=!0)},p(e,t){if(e[2]?xe?xe.p(e,t):(xe=z(e),xe.c(),xe.m(w,null)):xe&&(xe.d(1),xe=null),2&t[0]&&O.value!==e[1]&&y(O,e[1]),100400&t[0]){let n;for(ye=S(e[5]),n=0;n<ye.length;n+=1){const o=D(e,ye,n);we[n]?we[n].p(o,t):(we[n]=X(o),we[n].c(),we[n].m(H,null))}for(;n<we.length;n+=1)we[n].d(1);we.length=ye.length}1&t[0]&&Q!==(Q=e[0]<=1)&&(J.disabled=Q),1&t[0]&&te!==(te=e[0]<=1)&&(Z.disabled=te),1&t[0]&&se.value!==e[0]&&y(se,e[0]),8&t[0]&&x(re,e[3]),9&t[0]&&de!==(de=e[0]>=e[3])&&(ae.disabled=de),9&t[0]&&me!==(me=e[0]>=e[3])&&(pe.disabled=me)},i:e,o:e,d(e){e&&d(n),xe&&xe.d(),f(we,e),he=!1,o(be)}}}function Z(e,t,n){let o,{searchResult:s=[]}=t,{searchTerm:l=""}=t,{games:r=[]}=t,{sales:i=[]}=t,{gamesByDiscount:c=[]}=t,{lastUpdated:a=""}=t,{totalPages:u=-1}=t,{currentPage:d=-1}=t,{userCountry:f=null}=t;v((async()=>{let e;await fetch("./sales.json").then((e=>e.json())).then((e=>{n(19,i=e.sort(((e,t)=>e.title.localeCompare(t.title)))),n(17,s=i),n(3,u=Math.floor(i.length/24)+1),n(0,d=1)})),await fetch("./lastUpdate.json").then((e=>e.json())).then((e=>{const t=e.last,o=t.substr(8,2),s=t.substr(5,2),l=t.substr(11,5);n(2,a=`${o}/${s} - ${l}`)}));const t=document.getElementById("BlockInstall"),o=document.getElementById("BlockInstallButton"),l=document.getElementById("BlockInstallClose");o.addEventListener("click",(async()=>{t.classList.add("hidden"),e.prompt();const{outcome:n}=await e.userChoice;console.log(`User response to the install prompt: ${n}`),e=null})),l.addEventListener("click",(async()=>{t.classList.add("hidden"),e=null})),window.addEventListener("beforeinstallprompt",(n=>{n.preventDefault(),e=n,t.classList.remove("hidden"),console.log("'beforeinstallprompt' event was fired.")})),window.addEventListener("appinstalled",(()=>{t.classList.add("hidden"),e=null,console.log("PWA was installed")})),n(4,f=navigator.language?.split("-")[1])}));const p=async e=>{"discount"===e?(0===c.length&&await fetch("./games.json").then((e=>e.json())).then((e=>{n(20,c=e.sort(((e,t)=>e["discount-rate"]<t["discount-rate"])))})),n(17,s=c)):n(17,s=i),n(3,u=Math.floor(s.length/24)+1),n(0,d=1)},g=async()=>{""==l.trim()?n(17,s=i):(0===r.length&&await fetch("./games.json").then((e=>e.json())).then((e=>{n(18,r=e.sort(((e,t)=>e.title.localeCompare(t.title))))})),n(17,s=r.filter((e=>e.title.toLowerCase().includes(l.trim().toLowerCase()))))),n(3,u=Math.floor(s.length/24)+1),n(0,d=1)};const m=()=>{d<u&&b(1)},h=()=>{d>1&&b(-1)},b=e=>{x(d+e)},x=e=>{n(0,d=e),document.getElementById("games").scrollIntoView()};return e.$$set=e=>{"searchResult"in e&&n(17,s=e.searchResult),"searchTerm"in e&&n(1,l=e.searchTerm),"games"in e&&n(18,r=e.games),"sales"in e&&n(19,i=e.sales),"gamesByDiscount"in e&&n(20,c=e.gamesByDiscount),"lastUpdated"in e&&n(2,a=e.lastUpdated),"totalPages"in e&&n(3,u=e.totalPages),"currentPage"in e&&n(0,d=e.currentPage),"userCountry"in e&&n(4,f=e.userCountry)},e.$$.update=()=>{131073&e.$$.dirty[0]&&n(5,o=s.slice(24*(d-1),24*d)),1&e.$$.dirty[0]&&n(0,d=parseInt(d))},[d,l,a,u,f,o,p,g,e=>{13===e.charCode&&g()},e=>{"searchterm"!==e.target.id&&(37===e.keyCode&&h(),39===e.keyCode&&m())},function(e){e.stopPropagation(),"Enter"===e.key&&document.activeElement.blur(),console.log(e.target);const t=[...e.target.value];t.splice(this.selectionStart,0,e.key);const n=!isNaN(e.key),o=n?parseInt(t.join("")):0;(!n&&"Backspace"!==e.key&&"ArrowLeft"!==e.key&&"ArrowRight"!==e.key||n&&o>u)&&e.preventDefault()},e=>{window.open(`https://www.gog.com${e}`,"_blank").focus()},m,h,x,(e,t)=>Math.round(100*(100-100*e/t+Number.EPSILON))/100,(e,t)=>parseFloat(e)<parseFloat(t),s,r,i,c,e=>p(e.target.value),function(){l=this.value,n(1,l)},()=>x(1),function(){d=this.value,n(0,d)},()=>x(u)]}return new class extends M{constructor(e){super(),R(this,e,Z,Y,l,{searchResult:17,searchTerm:1,games:18,sales:19,gamesByDiscount:20,lastUpdated:2,totalPages:3,currentPage:0,userCountry:4},null,[-1,-1])}}({target:document.body})}();
//# sourceMappingURL=bundle.js.map
